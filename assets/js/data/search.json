[ { "title": "Tailscale is great", "url": "/blog/posts/tailscale-is-great/", "categories": "homeserver, network", "tags": "", "date": "2025-05-27 00:00:00 +0200", "snippet": "Tailscale is great.I use it on basically every device I can put it on.With it I do not have to wory about which device is in which network or hosted on which cloud provider, I do not have to wory a...", "content": "Tailscale is great.I use it on basically every device I can put it on.With it I do not have to wory about which device is in which network or hosted on which cloud provider, I do not have to wory about firewall rules and port forwarding (for stuff only I use) and do not have to wory about hosting and maintaining my own VPN server - and the best part: Tailscale is free for personal use.Following are a few features of tailscale I use and some specific things I do.tailscale lockI use tailscale lock to better secure and explicitly controle which devices are on my tailnet.Physical devices (like my laptop, phone and tablet) and long-lived devices (like my windows VM are setup as signing nodes so I do not lock myself out.taildropI have enabled taildrop to easily send files between devices.tailscale sshI use tailscale ssh on devices I want to ssh into.key expiryI disable key expiry on devices I do not regularly log into, like servers.subnet routerI use a subnet router in my LAN to also be able to access devices which do not have tailscale installed.user approvalI have enabled manual user approval.exit nodesI use various exit nodes as a substitue for traditional VPNs like mullvad or nordvpn and to browse the internet as I were sitting at home.My subnet router at home is also an exit node.To hide my location or to access the internet from a different country I have tailscale exit nodes running which in turn route all their upstream traffic through a different VPN provider.This way I have to pay the VPN provider only for a single device but can use it on every node in my tailnet.Even on devices that normally would not be compatible with the VPN provider.I use gluetun and a tailscale sidecar container.simon@vps:~$ cat gluetun/compose.yamlservices: gluetun: image: qmcgaw/gluetun # container_name: gluetun # line above must be uncommented to allow external containers to connect. # See https://github.com/qdm12/gluetun-wiki/blob/main/setup/connect-a-container-to-gluetun.md#external-container-to-gluetun cap_add: - NET_ADMIN devices: - /dev/net/tun:/dev/net/tun ports: - 8888:8888/tcp # HTTP proxy - 8388:8388/tcp # Shadowsocks - 8388:8388/udp # Shadowsocks restart: unless-stopped volumes: - ./data/gluetun:/gluetun environment: # See https://github.com/qdm12/gluetun-wiki/tree/main/setup#setup VPN_SERVICE_PROVIDER: VPN_TYPE: # OpenVPN: #- OPENVPN_USER= #- OPENVPN_PASSWORD= # Wireguard: WIREGUARD_PRIVATE_KEY: WIREGUARD_ADDRESSES: # Timezone for accurate log times #- TZ=UTC # Server list updater # See https://github.com/qdm12/gluetun-wiki/blob/main/setup/servers.md#update-the-vpn-servers-list UPDATER_PERIOD: 24h DNS_KEEP_NAMESERVER: off tailscale: cap_add: - NET_ADMIN - NET_RAW volumes: - ./data/tailscale/var/lib:/var/lib - ./data/tailscale/state:/state - /dev/net/tun:/dev/net/tun network_mode: \"service:gluetun\" restart: unless-stopped environment: TS_HOSTNAME: gluetun TS_AUTHKEY: TS_EXTRA_ARGS: --advertise-exit-node TS_NO_LOGS_NO_SUPPORT: true TS_STATE_DIR: /state image: tailscale/tailscale" }, { "title": "My remote desktop I can access from anywhere via a browser", "url": "/blog/posts/my-remote-desktop-setup/", "categories": "homeserver, remote", "tags": "", "date": "2025-05-27 00:00:00 +0200", "snippet": "I have a Windows Desktop at home which I can access from anywhere in the world just via a browser.This gives me the ability to access a familiar desktop environment with all my personal data and al...", "content": "I have a Windows Desktop at home which I can access from anywhere in the world just via a browser.This gives me the ability to access a familiar desktop environment with all my personal data and all my programs from wherever I am.I use kasm which on one site can do a lot more than I require and on the other site includes (almost) everything I need.You can install kasm on a linux machine like a raspberry pi.I am running a proxmox server at home, so my windows machine and ubuntu with kasm are both virtual machines.Here you can find an installation guide for a single server instance (which is all we need in our case).Having kasm installed you can add your windows machine as a server inside kasm, configure RDP (remote desktop) access and create a corresponding workspace.Now you should be able to access your windows machine via a browser inside your LAN.Here is a video Kasm Workspaces Windows Guide from the kasm guys themselves.Now, how do we access it from the internet?Well, just like you make any website accessible from the internet ;)There are many options.Because I personally put tailscale on all my devices I also installed tailscale on my kasm VM and used tailscale‚Äôs funnel feature.simon@kasm:/$ sudo tailscale funnel --bg https+insecure://localhost:443Now I can access kasm and thus my windows desktop from anywhere in the world by using a browser and visiting https://kasm.my-tailnet-name.ts.net/Remember to enable 2FA inside kasm to make it harder for third parties to break into your kasm instance.One big disadvantage of this method is that you have to trust the people behind tailscale to not read what is being transmitted via the funnel.UpdateAfter writing about the trust issue I decided to modify my setup.I already have a virtual private server with a static public IP address which is part of my tailnet.There are already other publicly accessible services running as docker containers and managed by nginx proxy manager.So I host kasm as just another single docker container there.The public IP of the server is additionally hidden by cloudflare.For nginx proxy manager and cloudflare to work propberly together you have to set the encryption mode in cloudflare to at least ‚ÄòFull‚ÄôWhile the server is part of my tailnet, the kasm container is not.But to be able to access my windows VM at home kasm needs to have access to my tailnet.This is where a tailscale sidecar container comes into play.We simply route all the traffic of kasm through the tailscale container.The tailscale container itself is then part of my tailnet and also connected to my docker network for the nginx proxy manager.Inside the proxy manager I have setup a new proxy host to route to https://kasm-tailscale-1:443.To initially configure the kasm container you have to expose and access port 3000 directly.You can un-expose the port afterwards.The flows is like this:Browser -&gt; kasm-domain -&gt; DNS A-record pointing to cloudflare proxy -&gt; cloudflare proxies to nginx proxy manager running on my virtual private server -&gt; nginx proxy manager proxies to the tailscale container -&gt; traffic reaches kasm -&gt; kasm finally accesses windows through the tailscale containerIt looks like this would add a lot of delay but it is not noticeable.The setup is totally usable.Now I am in control of my TLS certificates.simon@vps:~$ cat kasm/compose.yamlservices: kasm: image: lscr.io/linuxserver/kasm:1.16.1 # latest (1.17) currently does not work privileged: true security_opt: - apparmor:rootlesskit #optional environment: - KASM_PORT=443 - DOCKER_MTU=1500 #optional volumes: - ./data/opt:/opt - ./data/profiles:/profiles #optional - /dev/input:/dev/input #optional - /run/udev/data:/run/udev/data #optional #ports: # - 3003:3000 # - 8443:443 restart: unless-stopped network_mode: service:tailscale depends_on: - tailscale tailscale: image: tailscale/tailscale:latest environment: TS_AUTHKEY: TS_STATE_DIR: /var/lib/tailscale volumes: - ./data/tailscale:/var/lib/tailscale - /dev/net/tun:/dev/net/tun cap_add: - net_admin - sys_module restart: unless-stopped networks: - npmnetworks: npm: name: npm external: true" }, { "title": "How to host a tor hidden service", "url": "/blog/posts/how-to-host-a-tor-hidden-service/", "categories": "homeserver, docker, tor", "tags": "", "date": "2025-03-25 00:00:00 +0100", "snippet": "You can access this very same blog as a hidden service at http://simonja4fdp3lxdjeis5qjuugqe3wtbstlr2w7gmzsrnhhkpctmbgead.onionHosting a website as a hidden service via the tor network is easy.With...", "content": "You can access this very same blog as a hidden service at http://simonja4fdp3lxdjeis5qjuugqe3wtbstlr2w7gmzsrnhhkpctmbgead.onionHosting a website as a hidden service via the tor network is easy.With my setup you can host arbitrary webservices on the tor network just like you would do on the clearnet.I use docker compose with one service to run tor and nginx proxy manager to easily manage multiple websites.services: tor: image: goldy/tor-hidden-service restart: unless-stopped environment: NPM_TOR_SERVICE_HOSTS: 80:npm:80 NPM_TOR_SERVICE_VERSION: '3' #NPM_TOR_SERVICE_KEY: npm: image: jc21/nginx-proxy-manager restart: unless-stopped - 81:81 # access admin locally volumes: - ./data:/data blog: image: ghcr.io/simonhaas/blog:main restart: unless-stopped nginx: image: nginx restart: unless-stopped configs: - source: nginx target: /usr/share/nginx/html/index.htmlconfigs: nginx: content: | &lt;html&gt; &lt;head&gt; &lt;title&gt;simonhaas&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;a href=\"blog\"&gt;Blog&lt;/a&gt; &lt;/body&gt; &lt;/html&gt;The first time tor runs it generates a .onion address for you.docker compose exec -ti tor cat /var/lib/tor/hidden_service/npm/hostnameThere will be two more files: hs_ed25519_public_key hs_ed25519_secret_keyNoticed how the tor service is stateless?It does not use any volumes.To prevent generating a new address everytime the container starts you can export the secret key and add it as the environment variable NPM_TOR_SERVICE_KEY.docker compose exec -ti tor cat /var/lib/tor/hidden_service/npm/hs_ed25519_secret_key | base64Now you can add Proxy Hosts inside nginx proxy manager just like you would on the clearnet. domain name: your .onion address scheme: http forward host: nginx port: 80For my blog I use the same proxy host but have added a Custom location location: /blog scheme: http forward host: blog port: 80vanity addressesVanity addresses can be generated with mkp224odocker run --rm -it -v ./keys:/keys ghcr.io/cathugger/mkp224o:master -d /keys simonThis will generate .onion address starting with simon and save them in the ./keys folder.To use a generated address for your hidden service, just convert a secret key to base64 and add it as the respective environment variable to your tor service.onion-locationIf you are visiting this blog on its clearnet address via the tor browser you might have noticed a banner advertising the .onion version." }, { "title": "Gaming on Apple Silicon - an overview", "url": "/blog/posts/gaming-on-apple-silicon/", "categories": "apple, mac, gaming, emulation, virtualisation", "tags": "", "date": "2024-05-23 13:00:00 +0200", "snippet": "Apple Mac computers are not known to be great gaming machines but make no mistake, the M-series Apple Silicon chips are more powerfull than you think.Benchmarks do not tell the full story.You have ...", "content": "Apple Mac computers are not known to be great gaming machines but make no mistake, the M-series Apple Silicon chips are more powerfull than you think.Benchmarks do not tell the full story.You have to experience it yourself to fully understand the innovation these processors are.This blog post is supposed to be a high level overview to see how you can play which game on your Apple Silicon Mac.If a game is directly compatible with Mac you do not have to read any further. But if you want to play anything that is not designed to be played on Mac, this post if for you.Windows GamesThere are several different ways to run windows games.Some games work via one method but not the others, some might work all ways and few do not work at all.I could not find a general rule.It is trail and error to see what works.Apperantly it is a combination of game launcher, DirectX version and different system checks various games perform when starting.It feels like if the few games that do not run would not perform system checks they could run anyway.A good resource is AppleGamineWiki.WhiskeyWhiskey is free, builds on top of wine and uses Apple‚Äôs Game Porting Toolkit.Via Whiskey you create so called bottles in which you can install windows games.I personally have one bottle for each launcher.You could try to put all your game launchers into one bottle or create a bottle for every single game.The overhead for storage should be minimal but more bottles give you more flexibility to change settings for single games.CrossoverCrossover feels similar to Whiskey but works differently under the hood.It costs money but offeres a greater compatibility.Parallels DesktopParallels Desktop is a famous virtualization tool for money.You can use it to setup a full windows virtual machine and use it not just for gaming but for every other windows program as well.VMware Fusion ProVMware Fusion Pro is now free for personal use.You can also try to run Windows games via this hypervisor.UTMUTM is a free alternative to Parallels but is not compatible with most games.Other platformsThere is a huge eco system of emulators for various gaming consoles.But keep in mind, Apple Silicon chips are powerfull but not infinitly powerfull.Current generations of console games like PS5 and Xbox Series you propably will not be able to emulate.OpenEmuOpenEmu is simply amazing.It is like a launcher for various retro consoles.For each console you want to use you need a so called ‚Äòcore‚Äô, which can be downloaded via OpenEmu itself.Then, depending on the console, you need a BIOS file, keys or a basic ROM.And then you still need the actual game.If you do not own the console and the desired game yourself you can probably find it online provided by a friendly fellow.If a console is not supported by OpenEmu there are several dedicated emulators.Nintendo Switchryujinxsuyu-emuWii Ucemu" }, { "title": "From local to cloud back to local development", "url": "/blog/posts/from-local-to-cloud-to-browser-based-development/", "categories": "docker, development, github, node", "tags": "", "date": "2024-02-15 09:22:00 +0100", "snippet": "Technology is changing continuously. This is how your coding workflow might evolve.It is a simplified version of my journey which certainly was and is not as straight forward as described here.This...", "content": "Technology is changing continuously. This is how your coding workflow might evolve.It is a simplified version of my journey which certainly was and is not as straight forward as described here.This post focuses on web development with node.js and github for your code hosting.Local developmentAt first you start like everyone by installing everything you need locally.You install node.js, git and vscode on your laptop.This has the least amount of overhead in terms of configuration and setup is easy to get everything up and running.The first problem arises when you want to work on multiple projects with different versions of node.This is when you learn about nvm - node version manager; problem solved.But what happens when you switch computers - you have to set up everything again and good luck getting the same version of everything.The next natural progression is to put your application into a docker container.So you create a Dockerfile and install everything you need to build the application inside a container.Because you most likely need a database too, you create a docker-compose.yml file to define and start your application and database together.But what about vscode?You propably have multiple plugins installed.You can use github to sync your vscode config but if you also work on projects with different programming languages and toolchains some plugins might conflict with another.Also if you work with different people on the same project you want a way for everyone to easily have the same plugins installed.Introducing devcontainer.With creating a devcontainer.json file in your project you can also define plugins you want to install for this specific project, scripts you want to run to setup you application initially and many other things.Great, but what if you want to work on your project on a computer where no docker nor vscode is installed?This when you explore options to work on your project remotely.Remote developmentBecause you use github you come across github codespaces.A codespace is an instant remote development environment in the cloud.Luck you because you already have a devcontainer.json file.You can create a new codespace directly from your github repository.Github will create a new virtual machine in one of their data centers, clone your repo into it, build your Dockerfile, run scripts you have defined in your devcontainer.json file, setup vscode with all your plugins and give you access to all of it via the browser. Fantastic! ü•≥üéâPlease keep in mind that you are actively using resources in the cloud and github does not offer this for free.They provide a generous free tier with many hours of free usage each month but if you use it heavily you might run out of free time.You will have to actively set a spending limit if you want to use it more.Browser based developmentThe browser can run JavaScript so you might start to ask yourself why it can not your backend code wich is also written in JavaScript too.Introducing WebContainers and StackBlitz powered by WebAssembly.What is all of this? WebAssembly is a binary format for a virtual machine. The main goal of WebAssembly is to enable high-performance applications on web pages but it can also be used outside the context of web pages. WebContainers WebContainers are a browser-based runtime for executing Node.js applications and operating system commands, entirely inside your browser tab. StackBlitz StackBlitz is an instant fullstack web IDE for the JavaScript ecosystem.You can now run your node.js application locally (!) inside the browser.What about your database?Unless you use an exotic database written in javascript, you will not be able to run it in your browser, yet.If you are still reading your are propably into serverless and do not run your own database at all.So we came full circle.This is a phenomenon you can observe in many areas of tech." }, { "title": "This happens to every business idea I have", "url": "/blog/posts/this-happens-to-every-business-idea-i-have/", "categories": "software, business", "tags": "", "date": "2024-01-19 21:17:00 +0100", "snippet": "The usual processWhenevery I have a new idea that could be turned into a business I write it down.Some are just crappy but others stick in my mind.Most of these ideas are for digital products or se...", "content": "The usual processWhenevery I have a new idea that could be turned into a business I write it down.Some are just crappy but others stick in my mind.Most of these ideas are for digital products or services because that is what I know best.At some point I start researching.Most of the time I find an already established business and I ditch my idea.On one side I feel sad about it because I am not the first to come across the idea but what can you expect with over 7 billion people alive.On the other side I see my idea validated and have verification that not all of my ideas are crap.Last timeFor my most recent idea I knew there are multiple providers but none implemented the concept like I had in mind.So I started to build it.I build a prove of concpet to see if it is technically possible with my skillset, set up a basic landingpage and started implementing a minimum viable product.I felt very positive about it.After I came up with a name and the corresponding domain was not registerd yet I pulled the trigger and spend my first money on the idea.Minutes later I found exactly what I was trying to build online.The website looks very professional, the service has more features than I even imagined for my own and it is cheaper.For what I intended to already charge money was all available in the free tier.Damn it!I could continue build my own version but it would probably a year to reach a comparable level.But my competitors service is open source and he put it under the AGPL-3.0 license.To my understanding I am allowed to just copy it, host it myself and earn money with it.But doing so does not feel right to me also because I wanted to build and provide a service to people that did not exist yet.I am not sure if the author choose this license deliberately.If there were a affiliate program I could promote his service.But I did not find one and he charges very little so the commission would be even smaller.And I do not have an audiance to promote it to, yet.The service I am talking about is addy.ioBack to square one!" }, { "title": "Clash of Clans: Time and other metrics", "url": "/blog/posts/how-to-optimize-clash-of-clans/", "categories": "coc", "tags": "", "date": "2023-10-27 14:00:00 +0200", "snippet": "Clash of Clans is a mobile game enjoyed by millions.But what is the goal?There are several metrics you could aim to maximize: Trophies - earned by winning attacks and defenses XP - gained by play...", "content": "Clash of Clans is a mobile game enjoyed by millions.But what is the goal?There are several metrics you could aim to maximize: Trophies - earned by winning attacks and defenses XP - gained by playing regularly and unlocking achievements Town Hall Level - your Town Hall should be the last building you upgradeWith Builder Base and Clan Capital there are totally different dimesions to the game, but the most important is still the Home Village.There are a lot of tutorials and guides online which explain different strategies, compare base layouts and demonstrate various attacks.But, they do not matter.What matters is time.Time to upgrade your builds, time to research troops and spells.With better buildings, troops and spells you win more often, no matter the strategy, base layout or combination of troops for an attack.How to upgrade as fast as possibleThere are two rules: Builders and Laboratory have to always be working. Only spend gems on things that reduce build time.How to achieve Rule Number 11.1 Choose wiselyWhen starting a new upgrade, choose one that will finish at a time you can play to start the next one as fast as possible.Make sure you are not asleep, at school or in the middle of a meeting.1.2 Have enough resourcesYou do not want to have a builder or your laboratory sitting idle because you do not have enough resources to start the next upgrade.Estimate how much you need for the next upgrades and loot what you can not produce yourself.How to achieve Rule Number 22.1 Sell all Magic Items** that do not reduce or save time for gems to be able to buy more items that do.The Magic Items to keep and use are: Books (of every kind) Hammers (of every kind) Builder Potion Research Potion Pet Potion2.2 Participate in eventsBy attending in events you can get a lot of stuff you can use or sell.With Clan Games every member in the clan can choose multiple items depending how much points the clan scored in total.If you complete 4000 points yourself, you can select one additional item.Clan Games are once a month.Raid Weekend is primarily for the Clan Capital but after each weekend you get rewarded with Raid Medals which you can use at the Trader to buy various Magic Items.By participating in Clan Wars you get League Medals which you can spent at the League Shop.Here you can buy Hammers.With an Hammer you can do an upgrade without using resources nor waiting time.Basically always there is some kind of Event ongoing.Use these opportunities to earn Magic Items.2.3 Spend wiselyNot all Magic Items worth keeping (Rule 2.1) are equal.You have different places where you can acquiring Magic Items, at the Trader or League Shop.And you have different currencies, Gems, Raid Medals and League Medals.Some Magic Items give you a fixed time reduction, others save you more or less depending on which upgrade you use them.Before every transaction ask yourself: Is this the most efficient way of spending?General Tips and Tricks Choose a Clan with many active players.This will give you and everyone else a huge advantage at basically everything in the game. Remember, the game is called ‚ÄúClash of Clans‚Äù. Spend (only) excess Gold and Elixier on Walls.Walls upgrade instantly.Resources you have spend can not be stolen from you anymore, but make sure you still have enough left for Rule 1.2. Builder Base.Prioritize unlocking the additional builder over everything else, second is your upgrading your Gem Mine. ButClash of Clans is a game designed to be played over years if not decades.If you rush, not just your Town Hall but the entire game, you might loose the joy of playing it.Once you reached the maximal level on everything you might there won‚Äôt be much to do.Games are supposed to be fun." }, { "title": "My ultimate homeserver setup", "url": "/blog/posts/my-ultimate-homeserver-setup/", "categories": "homeserver, docker", "tags": "", "date": "2022-06-05 19:57:22 +0200", "snippet": "My homeserver supports a huge and growing collection of your favorite open source services. In order to use it you have to be familiar with using the terminal. If you prefer a graphical user interf...", "content": "My homeserver supports a huge and growing collection of your favorite open source services. In order to use it you have to be familiar with using the terminal. If you prefer a graphical user interface take a look at umbrel.To setup your own homeserver you should have an own domain. You can get one for free at Freenom. To get automated certificates point the domain`s NS-records to a provider that supports the acme protocol and wildcard A records. I use Digitalocean it is free. You have to create an account and add your domain. Then go back to Freenom and change the nameservers of your domain tons1.digitalocean.com.ns2.digitalocean.com.ns3.digitalocean.com.and add a new A-record with an asterix (*) as subdomain (wildcard) with the IP address of your server.Further requirenments are to have docker and git installed.curl -fsSL https://get.docker.com -o get-docker.shsh get-docker.shdockerd-rootless-setuptool.sh installsudo usermod -aG docker $USERsudo apt install gitNow you can clone the homeserver repository and create a docker networkgit clone https://github.com/SimonHaas/homeserver.gitcd homeserverdocker network create zone1Copy and modify the main .env file. Set your timezone, domain and the services you want to have started. You can leave the default services until you have verified that everything is setup correctly and then add more.cp .env.example .envnano .envThen go to traefik and edit the .env file there as well. Here you have to enter your email. If you use Digitalocean as your DNS provider you only have to add an auth-key. You can get one in the settings of digitalocean. If you use another provider take a look at available acme providers.cd services/traefikcp .env.example .envnano .envNow we are basically ready to go. But first let`s test if your DNS setup is correct. To get a test-certificate edit the docker-compose.yml file of traefik and remove the ‚Äò#‚Äô sign of the line which specifies the certificate resolver to use the letsencrypt staging servers. Start traefik withdocker compose upAfter traefik has started you can visit traefik at https://traefik./dashboard/#/ The browser should warn you that the connection is not secure because of an unknown certificate authority but this is indented since we use the letsencrypt staging server.Use Crtl-C to stop traefik again, remove traefik`s data-folder and add the '#' sign in the docker-compose file again by runninggit reset --hardNow go two levels up again and run the homeserver-script. Go to each service`s folder you have specified in the main .env file and modify the corresponding .env file accordingly.cd ../.../script.sh up -dNow your specified services should be up and running." }, { "title": "How to create a free TLS certificate", "url": "/blog/posts/how-to-create-a-tls-certificate/", "categories": "homeserver, letsencrypt, tls, https", "tags": "", "date": "2020-01-14 18:57:22 +0100", "snippet": "What is a TLS certificateA TLS certificate is basically a file with various data like the doamins it is valid for, expiration date and most importantly a public key. This file is signed by a certif...", "content": "What is a TLS certificateA TLS certificate is basically a file with various data like the doamins it is valid for, expiration date and most importantly a public key. This file is signed by a certificate authority (CA), which gurantees that the public key really belongs to the person operating the website.What do I need a TLS certificate forA TLS certificate is to secure connections via the internet.The public key is used to authenticate the server, so that you are really visiting the authentic site you are expecting and that you are not fooled by a hacker.Additionally it turns an unencrypted http site into an encrypted https site. This means that the traffic between a client e.g. an internet browser and the server which is hosting the site you are visiting is encrypted and no one can see what you are doing on that website. Keep in mind that the domain you are visiting is still visible to an eavesdropper.In this specific case this means the site you are visiting is indeed operated by the person, me, owning the domain simonhaas.eu. To load this site there was traffic over the public internet. Someone monitoring this would see that you are visiting simonhaas.eu but they could not see the specific post, the content or any data you would fill into a form if there were any.Different kinds of TLS certificatesA certificate authority signs the public key. You do not sign anything in real life without checking the validity of the thing you should sign first, nor does a CA.There are three different levels of validation a CA can perform to be sure the person requesting a certificate is authorized to do so. Domain Validation - this is the weakest form of validation. Here the CA only checks if one has administrative access over a domain.The padlock in your browser is green. Organisation Validation - here the CA checks if the organisation requesting the signature really exists, e.g. through an official register.The padlock in your browser is geen followed by the organisations name. Extended Validation - here the CA visits and physically verifies the existance of the organisation.The padlock in your browser is green followed by the organistations name and their country code.If you really trust a website depends on the kind of validation and the CA itself. If you do not trust a CA their signatures are basically worthless and you should‚Äôt trust them either.How to get a TLS certificate for freeMost CAs take money for certificates which is totally legit because it is a service they perform for you.The CA Let‚Äôs Encrypt is different. The issue free certificates. Consequently the only perform the weakest form of validation, Domain Validation. That is why you should not trust your banks online banking if it is only secured by an Let‚Äôs Encrypt certificate. But if you only want to encrypt a simple blog where in the case the site got hacked there is no way you could lose all your money or that very personal information would be leaked it is just fine.Different way for Domain ValidationTo validate the domain Let‚Äôs Encrypt can use a few different methods, defined in the ACME protocol, called a challenge.The most common challenge is HTTP-01.Here you get a token from Let‚Äôs Encrypt and to prove your domain ownership you should place the token under a specific path on your website. The Let‚Äôs Encrypt Server now visits the specific path and looks for the token. If it is there the CA knows that you have control over the domain and gives you a certificate.If you want to run a home server in your LAN which is not connected to the internet this can not be done.You can still get a certificate via the DNS-01 challenge. Here you get a token from Let‚Äôs Encrypt and you must create a TXT record for your your domain containing the token. Let‚Äôs Encrypt‚Äôs server checks if the TXT record with the given token exists and gives you a certificate if so.Actual steps to get a TLS certificateYou can run the following command from any computer. It does not have to be the server hosting your site. But in the end the certificate has to be on the server.PrerequisitsYou have to have your own domain. You can get one from https://www.namecheap.com.1. Install certbotCertbot is a command line tool to interact with Let‚Äôs Encrypt.sudo apt updatesudo apt install certbot2. Request the certificateIn the following command please change *.&lt;your-domain&gt; to your specific domain. The * means that you want a wildcard certificate which is valid for every subdomain.If you first want to test the process use Let‚Äôs Encrypt staging server https://acme-staging-v02.api.letsencrypt.org/directory You can only make a limited number of requests in a specific timeperiod to the production server before being blocked.Do not press Enter when promted yet.Also keep in mind that your IP address will be publicly logged.sudo certbot certonly --manual --manual-public-ip-logging-ok --preferred-challenges dns-01 --server https://acme-v02.api.letsencrypt.org/directory -d \"*.&lt;your-domain&gt;\"The output will look something like the following.Saving debug log to /var/log/letsencrypt/letsencrypt.logPlugins selected: Authenticator manual, Installer NoneObtaining a new certificatePerforming the following challenges:dns-01 challenge for *.&lt;your-domain&gt;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -Please deploy a DNS TXT record under the name_acme-challenge.&lt;your-domain&gt; with the following value:HlArNfLZsJ5x224B9ATJ7eTCIP82LbFAydte4z4VDFwBefore continuing, verify the record is deployed.- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -Press Enter to Continue3. Create the TXT recordGo to your DNS-provider e.g. namecheap and add a new TXT record. The name has to be _acme-challenge and as value use the token displayed in your output, in this example HlArNfLZsJ5x224B9ATJ7eTCIP82LbFAydte4z4VDFw.Because of the distributed DNS architecture it takes up to 24 hours until every DNS server gets updated. Waiting onyl one to two hours has always worded for me. If you want to be sure you can use a service like https://www.nslookuptool.com to check if the TXT record is already videly spread.If you press Enter and Let‚Äôs Encrypt can not verify your TXT record you have to run the command again, get a new token and wait for a few hours again.If everything worked fine you now have a TLS certificate signed by Let‚Äôs Encrypt which can be use to secure your websites." } ]
