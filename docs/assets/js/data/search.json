[ { "title": "Clash of Clans: Time and other metrics", "url": "/posts/how-to-optimize-clash-of-clans/", "categories": "coc", "tags": "", "date": "2023-10-27 14:00:00 +0200", "snippet": "Clash of Clans is a mobile game enjoyed by millions.But what is the goal?There are several metrics you could aim to maximize: Trophies - earned by winning attacks and defenses XP - gained by play...", "content": "Clash of Clans is a mobile game enjoyed by millions.But what is the goal?There are several metrics you could aim to maximize: Trophies - earned by winning attacks and defenses XP - gained by playing regularly and unlocking achievements Town Hall Level - your Town Hall should be the last building you upgradeWith Builder Base and Clan Capital there are totally different dimesions to the game, but the most important is still the Home Village.There are a lot of tutorials and guides online which explain different strategies, compare base layouts and demonstrate various attacks.But, they do not matter.What matters is time.Time to upgrade your builds, time to research troops and spells.With better buildings, troops and spells you win more often, no matter the strategy, base layout or combination of troops for an attack.This is not to say that these things do not matter at all, they will give you a slight advantage, but the relevant advantage is gained with time.How to upgrade as fast as possibleThere are two rules: Builders and Laboratory have to always be working. Only spend gems on things that reduce build time.How to achieve Rule Number 11.1 Choose wiselyWhen starting a new upgrade, choose one that will finish at a time you can play to start the next one as fast as possible.Make sure you are not asleep, at school or in the middle of a meeting.1.2 Have enough resourcesYou do not want to have a builder or your laboratory sitting idle because you do not have enough resources to start the next upgrade.Estimate how much you need for the next upgrades and loot what you can not produce yourself.How to achieve Rule Number 22.1 Sell all Magic Items** that do not reduce save time for gems to be able to buy more items that do.The Magic Items to keep and use are: Books (of every kind) Hammers (of every kind) Builder Potion Research Potion Pet Potion2.2 Participate in eventsBy attending in events you can get a lot of stuff you can use or sell.With Clan Games every member in the clan can choose multiple items depending how much points the clan scored in total.If you complete 4000 points yourself, you can select one additional item.Clan Games are once a month.Raid Weekend is primarily for the Clan Capital but after each weekend you get rewarded with Raid Medals which you can use at the Trader to buy various Magic Items.By participating in Clan Wars you get League Medals which you can spent at the League Shop.Here you can buy Hammers.With an Hammer you can do an upgrade without using resources nor waiting time.Basically always there is some kind of Event ongoing.Use these opportunities to earn Magic Items.2.3 Spend wiselyNot all Magic Items worth keeping (Rule 2.1) are equal.You have different places where you can acquiring Magic Items, at the Trader or League Shop.And you have different currencies, Gems, Raid Medals and League Medals.Some Magic Items give you a fixed time reduction, others save you more or less depending on which upgrade you use them.Before every transaction ask yourself: Is this the most efficient way of spending?General Tips and Tricks Choose a Clan with many active players.This will give you and everyone else a huge advantage at basically everything in the game. Remember, the game is called “Clash of Clans”. Spend (only) excess Gold and Elixier on Walls.Walls upgrade instantly.Resources you have spend can not be stolen from you anymore, but make sure you still have enough left for Rule 1.2. " }, { "title": "My ultimate homeserver setup", "url": "/posts/my-ultimate-homeserver-setup/", "categories": "homeserver, docker", "tags": "", "date": "2022-06-05 19:57:22 +0200", "snippet": "My homeserver supports a huge and growing collection of your favorite open source services. In order to use it you have to be familiar with using the terminal. If you prefer a graphical user interf...", "content": "My homeserver supports a huge and growing collection of your favorite open source services. In order to use it you have to be familiar with using the terminal. If you prefer a graphical user interface take a look at umbrel.To setup your own homeserver you should have an own domain. You can get one for free at Freenom. To get automated certificates point the domain`s NS-records to a provider that supports the acme protocol and wildcard A records. I use Digitalocean it is free. You have to create an account and add your domain. Then go back to Freenom and change the nameservers of your domain tons1.digitalocean.com.ns2.digitalocean.com.ns3.digitalocean.com.and add a new A-record with an asterix (*) as subdomain (wildcard) with the IP address of your server.Further requirenments are to have docker and git installed.curl -fsSL https://get.docker.com -o get-docker.shsh get-docker.shdockerd-rootless-setuptool.sh installsudo usermod -aG docker $USERsudo apt install gitNow you can clone the homeserver repository and create a docker networkgit clone https://github.com/SimonHaas/homeserver.gitcd homeserverdocker network create zone1Copy and modify the main .env file. Set your timezone, domain and the services you want to have started. You can leave the default services until you have verified that everything is setup correctly and then add more.cp .env.example .envnano .envThen go to traefik and edit the .env file there as well. Here you have to enter your email. If you use Digitalocean as your DNS provider you only have to add an auth-key. You can get one in the settings of digitalocean. If you use another provider take a look at available acme providers.cd services/traefikcp .env.example .envnano .envNow we are basically ready to go. But first let`s test if your DNS setup is correct. To get a test-certificate edit the docker-compose.yml file of traefik and remove the ‘#’ sign of the line which specifies the certificate resolver to use the letsencrypt staging servers. Start traefik withdocker compose upAfter traefik has started you can visit traefik at https://traefik./dashboard/#/ The browser should warn you that the connection is not secure because of an unknown certificate authority but this is indented since we use the letsencrypt staging server.Use Crtl-C to stop traefik again, remove traefik`s data-folder and add the '#' sign in the docker-compose file again by runninggit reset --hardNow go two levels up again and run the homeserver-script. Go to each service`s folder you have specified in the main .env file and modify the corresponding .env file accordingly.cd ../.../script.sh up -dNow your specified services should be up and running." }, { "title": "How to create a free TLS certificate", "url": "/posts/how-to-create-a-tls-certificate/", "categories": "homeserver, letsencrypt, tls, https", "tags": "", "date": "2020-01-14 18:57:22 +0100", "snippet": "What is a TLS certificateA TLS certificate is basically a file with various data like the doamins it is valid for, expiration date and most importantly a public key. This file is signed by a certif...", "content": "What is a TLS certificateA TLS certificate is basically a file with various data like the doamins it is valid for, expiration date and most importantly a public key. This file is signed by a certificate authority (CA), which gurantees that the public key really belongs to the person operating the website.What do I need a TLS certificate forA TLS certificate is to secure connections via the internet.The public key is used to authenticate the server, so that you are really visiting the authentic site you are expecting and that you are not fooled by a hacker.Additionally it turns an unencrypted http site into an encrypted https site. This means that the traffic between a client e.g. an internet browser and the server which is hosting the site you are visiting is encrypted and no one can see what you are doing on that website. Keep in mind that the domain you are visiting is still visible to an eavesdropper.In this specific case this means the site you are visiting is indeed operated by the person, me, owning the domain simonhaas.eu. To load this site there was traffic over the public internet. Someone monitoring this would see that you are visiting simonhaas.eu but they could not see the specific post, the content or any data you would fill into a form if there were any.Different kinds of TLS certificatesA certificate authority signs the public key. You do not sign anything in real life without checking the validity of the thing you should sign first, nor does a CA.There are three different levels of validation a CA can perform to be sure the person requesting a certificate is authorized to do so. Domain Validation - this is the weakest form of validation. Here the CA only checks if one has administrative access over a domain.The padlock in your browser is green. Organisation Validation - here the CA checks if the organisation requesting the signature really exists, e.g. through an official register.The padlock in your browser is geen followed by the organisations name. Extended Validation - here the CA visits and physically verifies the existance of the organisation.The padlock in your browser is green followed by the organistations name and their country code.If you really trust a website depends on the kind of validation and the CA itself. If you do not trust a CA their signatures are basically worthless and you should’t trust them either.How to get a TLS certificate for freeMost CAs take money for certificates which is totally legit because it is a service they perform for you.The CA Let’s Encrypt is different. The issue free certificates. Consequently the only perform the weakest form of validation, Domain Validation. That is why you should not trust your banks online banking if it is only secured by an Let’s Encrypt certificate. But if you only want to encrypt a simple blog where in the case the site got hacked there is no way you could lose all your money or that very personal information would be leaked it is just fine.Different way for Domain ValidationTo validate the domain Let’s Encrypt can use a few different methods, defined in the ACME protocol, called a challenge.The most common challenge is HTTP-01.Here you get a token from Let’s Encrypt and to prove your domain ownership you should place the token under a specific path on your website. The Let’s Encrypt Server now visits the specific path and looks for the token. If it is there the CA knows that you have control over the domain and gives you a certificate.If you want to run a home server in your LAN which is not connected to the internet this can not be done.You can still get a certificate via the DNS-01 challenge. Here you get a token from Let’s Encrypt and you must create a TXT record for your your domain containing the token. Let’s Encrypt’s server checks if the TXT record with the given token exists and gives you a certificate if so.Actual steps to get a TLS certificateYou can run the following command from any computer. It does not have to be the server hosting your site. But in the end the certificate has to be on the server.PrerequisitsYou have to have your own domain. You can get one from https://www.namecheap.com.1. Install certbotCertbot is a command line tool to interact with Let’s Encrypt.sudo apt updatesudo apt install certbot2. Request the certificateIn the following command please change *.&lt;your-domain&gt; to your specific domain. The * means that you want a wildcard certificate which is valid for every subdomain.If you first want to test the process use Let’s Encrypt staging server https://acme-staging-v02.api.letsencrypt.org/directory You can only make a limited number of requests in a specific timeperiod to the production server before being blocked.Do not press Enter when promted yet.Also keep in mind that your IP address will be publicly logged.sudo certbot certonly --manual --manual-public-ip-logging-ok --preferred-challenges dns-01 --server https://acme-v02.api.letsencrypt.org/directory -d \"*.&lt;your-domain&gt;\"The output will look something like the following.Saving debug log to /var/log/letsencrypt/letsencrypt.logPlugins selected: Authenticator manual, Installer NoneObtaining a new certificatePerforming the following challenges:dns-01 challenge for *.&lt;your-domain&gt;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -Please deploy a DNS TXT record under the name_acme-challenge.&lt;your-domain&gt; with the following value:HlArNfLZsJ5x224B9ATJ7eTCIP82LbFAydte4z4VDFwBefore continuing, verify the record is deployed.- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -Press Enter to Continue3. Create the TXT recordGo to your DNS-provider e.g. namecheap and add a new TXT record. The name has to be _acme-challenge and as value use the token displayed in your output, in this example HlArNfLZsJ5x224B9ATJ7eTCIP82LbFAydte4z4VDFw.Because of the distributed DNS architecture it takes up to 24 hours until every DNS server gets updated. Waiting onyl one to two hours has always worded for me. If you want to be sure you can use a service like https://www.nslookuptool.com to check if the TXT record is already videly spread.If you press Enter and Let’s Encrypt can not verify your TXT record you have to run the command again, get a new token and wait for a few hours again.If everything worked fine you now have a TLS certificate signed by Let’s Encrypt which can be use to secure your websites." } ]
